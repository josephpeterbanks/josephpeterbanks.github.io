<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coliseum Compass</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
			justify-content: center;
            align-items: center;
            height: 90vh;
        }

        .container {
            background-color: #fff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            width: 100%;
			margin-bottom: 20px;
        }

        h1 {
            text-align: center;
            font-size: 24px;
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
        }
		
		select, input[type="text"] {
			width: 100%;
			max-width: 100%;
			padding: 10px;
			margin-bottom: 20px;
			box-sizing: border-box;
			border: 1px solid #ccc;
			border-radius: 5px;
			font-size: 16px;
		}

        button {
            width: 100%;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }

        button:hover {
            background-color: #45a049;
        }

        .route {
            margin-top: 20px;
            padding: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            font-size: 16px;
			min-height: 36px;
        }
		
		.instructions {
            background-color: #FCFCFC; /* Slightly darker background */
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            width: 100%;
			color: #6B6B6B;
        }

        .instructions h2 {
            text-align: center;
            font-size: 20px;
            margin-bottom: 15px;
        }

        .instructions p {
            font-size: 16px;
            line-height: 1.5;
            margin-bottom: 10px;
        }
		
		.header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .logo {
            width: 50px; /* Adjust the size as needed */
            height: auto;
            margin-right: 10px; /* Space between logo and heading */
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <img src="https://github.com/josephpeterbanks/josephpeterbanks.github.io/blob/main/Logo.png" alt="Logo" class="logo">
            <h1>Coliseum Compass</h1>
        </div>
        
        <label for="level">Select Level:</label>
        <select id="level">
            <option value="stalls">Stalls</option>
            <option value="dress-circle">Dress Circle</option>
            <option value="upper-circle">Upper Circle</option>
            <option value="balcony">Balcony</option>
        </select>
        
        <label for="seatId">Enter Seat Number:</label>
        <input type="text" id="seatId" placeholder="e.g. B21, G36">
        
        <button onclick="findSeat()">Find My Seat</button>
        
        <div id="route" class="route">
            Welcome to Coliseum Compass <br>
			Built by Joseph Banks
        </div>
    </div>
	
	<!-- New Instruction Section -->
    <div class="instructions">
        <h2>How to Use This Website</h2>
        <p>1. Select the level you are on from the dropdown menu.</p>
        <p>2. Enter the seat number in this form: B21 or b21.</p>
        <p>3. Click the "Find My Seat" button.</p>
        <p>4. The best route to the seat will be displayed.</p>
    </div>

    <script>
		document.getElementById('seatId').addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault(); // Prevent the default form submission behavior
                findSeat(); // Trigger the function to find the seat
            }
        });
	
		const layout = {
				"stalls": {
					"A": { aisles: [5.5, 20.5, 25.5], outer: false},
					"B": { aisles: [10.5, 26.5, 36.5], outer: false},
					"C": { aisles: [11.5, 28.5, 39.5], outer: false},
					"D": { aisles: [12.5, 30.5, 42.5], outer: false},
					"E": { aisles: [11.5, 28.5, 39.5], outer: false},
					"F": { aisles: [11.5, 29.5, 40.5], outer: false},
					"G": { aisles: [11.5, 30.5, 41.5], outer: false},
					"H": { aisles: [11.5, 31.5, 42.5], outer: false},
					"J": { aisles: [9.5, 28.5, 37.5], outer: false},
					"K": { aisles: [8.5, 28.5, 36.5], outer: false},
					"L": { aisles: [7.5, 28.5, 35.5], outer: false},
					"M": { aisles: [5.5, 27.5, 32.5], outer: false},
					"N": { aisles: [3.5, 26.5, 29.5], outer: false},
					"O": { aisles: [20.5], outer: "left"},
					"P": { aisles: [17.5], outer: "left"},
					"Q": { aisles: [10.5], outer: "left"}
				},
				"dress-circle": {
					"A": { aisles: [14.5, 28.5, 44.5, 58.5, 72.5], outer: "extend"},
					"B": { aisles: [8.5, 22.5, 39.5, 53.5, 61.5], outer: "extend"},
					"C": { aisles: [2.5, 17.5, 35.5, 50.5, 52.5], outer: "extend"},
					"D": { aisles: [1.5, 17.5, 36.5, 52.5, 53.5], outer: "extend"},
					"E": { aisles: [18.5, 38.5, 56.5], outer: true},
					"F": { aisles: [19.5, 40.5, 59.5], outer: true},
					"G": { aisles: [18.5, 40.5, 58.5], outer: true},
					"H": { aisles: [17.5, 40.5, 57.5], outer: true},
					"J": { aisles: [17.5, 41.5, 58.5], outer: true},
					"K": { aisles: [16.5, 41.5, 57.5], outer: true},
					"L": { aisles: [14.5, 38.5, 52.5], outer: true}
				},
				"upper-circle": {
					"A": { aisles: [16.5, 32.5, 48.5], outer: true},
					"B": { aisles: [17.5, 34.5, 51.5], outer: true},
					"C": { aisles: [19.5, 37.5, 56.5], outer: true},
					"D": { aisles: [19.5, 38.5, 57.5], outer: true},
					"E": { aisles: [18.5, 38.5, 56.5], outer: true},
					"F": { aisles: [18.5, 39.5, 57.5], outer: true},
					"G": { aisles: [18.5, 40.5, 58.5], outer: true},
					"H": { aisles: [17.5, 40.5, 57.5], outer: true},
					"J": { aisles: [17.5, 41.5, 58.5], outer: true},
					"K": { aisles: [16.5, 40.5, 56.5], outer: true},
					"L": { aisles: [16.5, 40.5, 56.5], outer: true}
				},
				"balcony": {
					"A": { aisles: [5.5, 11.5, 19.5, 27.5, 35.5, 41.5, 46.5], outer: "extend"},
					"B": { aisles: [4.5, 11.5, 20.5, 29.5, 38.5, 45.5, 49.5], outer: "extend"},
					"C": { aisles: [3.5, 10.5, 19.5, 28.5, 37.5, 44.5, 47.5], outer: "extend"},
					"D": { aisles: [7.5, 17.5, 27.5, 37.5, 44.5], outer: true},
					"E": { aisles: [8.5, 19.5, 30.5, 41.5, 49.5], outer: true},
					"F": { aisles: [9.5, 20.5, 31.5, 42.5, 51.5], outer: true},
					"G": { aisles: [9.5, 21.5, 33.5, 45.5, 54.5], outer: true},
					"H": { aisles: [9.5, 21.5, 33.5, 45.5, 54.5], outer: true},
					"J": { aisles: [7.5, 20.5, 33.5, 46.5, 53.5], outer: true},
					"K": { aisles: [6.5, 19.5, 32.5, 45.5, 51.5], outer: true}
				}
			};
	
        function findSeat() {
            const level = document.getElementById("level").value;
            const seatId = document.getElementById("seatId").value.trim();
            const route = document.getElementById("route");
			
			const match = seatId.match(/^([A-Za-z])(\d+)$/);
			if (match) {
				const row = match[1];  // The letter part
				const seatNumber = match[2];  // The number part

				findBestRoute(level, row.toUpperCase(), seatNumber, route);
			} else {
				route.innerText = `Please enter a valid seat (e.g. B21, G36)!
				`;
				route.style.color = "red";
				route.style.display = "block";
			}
        }
		
		function findBestRoute(level, row, seatNumber, route) {

			// Ensure the layout has the level and row
			if (layout[level][row]) {
				const rowInfo = layout[level][row];
				const aisles = rowInfo.aisles;
				const outer = rowInfo.outer;
				
				if (seatNumber <= aisles[aisles.length - 1] && seatNumber > 0) {
					let routeDesc = "";
					if (outer == "left") {
						const offset = aisles[0] - seatNumber - 0.5;
						if (offset == 0) {
							routeDesc = `Door 3 Right
							On the Aisle`;
						} else {
							routeDesc = `Door 3 Right
							${offset} Seats from the Aisle`;
						}
					} else if (outer == true) {
					
						// Find the closest aisle by comparing seatNumber with aisle positions
						let closestAisle = 0;
						let minDistance = Math.abs(seatNumber - 0.5);
						let offset = seatNumber - 1;

						for (let i = 0; i < aisles.length; i++) {
							const distance = Math.abs(seatNumber - aisles[i]);
							if (distance < minDistance) {
								offset = Math.abs(aisles[i] - seatNumber) - 0.5;
								minDistance = distance;
								closestAisle = i+1;
							}
						}
						
						// Determine direction based on closest aisle
						const direction = seatNumber < aisles[closestAisle-1] ? "Right" : "Left";
						if (closestAisle == 0) {
							if (offset == 0) {
								routeDesc = `Far Right Aisle
								On the Aisle`;
							} else {
								routeDesc = `Far Right Aisle
								${offset} Seats from the Aisle`;
							}
						} else if (closestAisle == aisles.length) {
							if (offset == 0) {
								routeDesc = `Far Left Aisle
								On the Aisle`;
							} else {
								routeDesc = `Far Left Aisle
								${offset} Seats from the Aisle`;
							}
						} else {
							if (offset == 0) {
								routeDesc = `Aisle ${closestAisle} ${direction}
								On the Aisle`;
							} else {
								routeDesc = `Aisle ${closestAisle} ${direction}
								${offset} Seats from the Aisle`;
							}
						}
					} else if (outer == false) {
						// Find the closest aisle by comparing seatNumber with aisle positions
						let closestAisle = 1;
						let minDistance = Math.abs(seatNumber - aisles[0]);
						let offset = Math.abs(aisles[0] - seatNumber) - 0.5;

						for (let i = 1; i < aisles.length - 1; i++) {
							const distance = Math.abs(seatNumber - aisles[i]);
							if (distance < minDistance) {
								offset = Math.abs(aisles[i] - seatNumber) - 0.5;
								minDistance = distance;
								closestAisle = i+1;
							}
						}
						
						// Determine direction based on closest aisle
						const direction = seatNumber < aisles[closestAisle-1] ? "Right" : "Left";
						
						if (offset == 0) {
							routeDesc = `Aisle ${closestAisle} ${direction}
							On the Aisle`;
						} else {
							routeDesc = `Aisle ${closestAisle} ${direction}
							${offset} Seats from the Aisle`;
						}
					} else if (outer == "extend") {
						// Find the closest aisle by comparing seatNumber with aisle positions
						let closestAisle = 1;
						let minDistance = Math.abs(seatNumber - aisles[0]);
						let offset = Math.abs(aisles[0] - seatNumber) - 0.5;

						for (let i = 1; i < aisles.length - 1; i++) {
							const distance = Math.abs(seatNumber - aisles[i]);
							if (distance < minDistance) {
								offset = Math.abs(aisles[i] - seatNumber) - 0.5;
								minDistance = distance;
								closestAisle = i+1;
							}
						}
						
						// Determine direction based on closest aisle
						const direction = seatNumber < aisles[closestAisle-1] ? "Right" : "Left";
						closestAisle = closestAisle - 1;
						
						if (closestAisle == 0) {
							if (offset == 0) {
								routeDesc = `Far Right Aisle
								On the Aisle`;
							} else {
								routeDesc = `Far Right Aisle
								${offset} Seats from the Aisle`;
							}
						} else if (closestAisle == aisles.length - 2) {
							if (offset == 0) {
								routeDesc = `Far Left Aisle
								On the Aisle`;
							} else {
								routeDesc = `Far Left Aisle
								${offset} Seats from the Aisle`;
							}
						} else {
							if (offset == 0) {
								routeDesc = `Aisle ${closestAisle} ${direction}
								On the Aisle`;
							} else {
								routeDesc = `Aisle ${closestAisle} ${direction}
								${offset} Seats from the Aisle`;
							}
						}
					}
					route.innerText = routeDesc;
					route.style.color = "black";
					route.style.display = "block";
				} else {
					route.innerText = "Invalid seat number.";
					route.style.color = "red";
					route.style.display = "block";
				}
			} else {
				route.innerText = "Invalid row on level.";
				route.style.color = "red";
				route.style.display = "block";
			}
		}
    </script>
</body>
</html>